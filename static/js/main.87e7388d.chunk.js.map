{"version":3,"sources":["img/nophoto.jpg","panels/Home.js","panels/AddInfo.js","panels/Album.js","panels/Ranking.js","App.js","index.js"],"names":["module","exports","Home","id","go","fetchedUser","title","before","photo_200","src","description","city","first_name","last_name","class","onClick","data-to","osName","platform","App","props","onChangeHandler","event","setState","FotoFile","target","files","loaded","onChangeHandler2","MailFile1","state","Foto","Famili","Name","Surname","BirthDate","BirthPlace","CallPlace","CallYear","CallLocation","Ranking","DeathDate","History","OtherSite","MailFile","handleChange","bind","this","name","value","data","FormData","append","id_user","axios","post","then","res","console","log","type","placeholder","onChange","size","level","publish","React","Component","AddInfo","left","IOS","Hero","count","useState","heroes","setHeroes","textFio","updateText","textCount","setCount","getUser","url","get","response","items","catch","error","finally","e","share","data-count","data-mes","data-img","map","item","data-key","str","MainPhoto","zapaska","noPhoto","Lastname","Firstname","Patronymic","Rank","getInfoRepost","Album","Ranks","style","width","hero_count","activePanel","setActivePanel","setUser","user_acces_token","setUserToken","popout","setPopout","useEffect","a","bridge","send","user","userToken","subscribe","detail","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","fetchData","currentTarget","dataset","to","per","count_to_post","access_token","mes","img","post_id","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.87e7388d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/nophoto.9dd537f0.jpg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport './Home.css';\nconst Home = ({ id, go, fetchedUser }) => (\n\n\t<Panel id={id} >\n\n\t\t<PanelHeader >Дорога памяти</PanelHeader>\n\t\t{fetchedUser &&\n\t\t\t<Group title=\"User Data Fetched with VK Bridge\">\n\t\t\t\t<Cell\n\t\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200} /> : null}\n\t\t\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t\t>\n\t\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t\t</Cell>\n\t\t\t</Group>}\n\n\t\t<Group title=\"Navigation Example\"  >\n\n\t\t\t<Div>\n\t\t\t\t<button class=\"button_elements\" onClick={go} data-to=\"album\">\n\t\t\t\t\tПроверить фамилию\n\t\t\t\t</button>\n\t\t\t</Div>\n\n\t\t\t<Div>\n\t\t\t\t<button class=\"button_elements\" onClick={go} data-to=\"AddInfo\">\n\t\t\t\t\tДобавить фотографию героя\n\t\t\t\t</button>\n\t\t\t</Div>\n\t\t\t<Div>\n\t\t\t\t<button class=\"button_elements\" onClick={go} data-to=\"Ranking\">\n\t\t\t\t\tРейтинг пользователей\n\t\t\t\t</button>\n\t\t\t</Div>\n\n\n\t\t</Group>\n\n\t</Panel>\n\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import PropTypes from 'prop-types';\r\nimport { platform, IOS } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport React from \"react\";\r\nimport axios from 'axios';\r\nimport { FormLayout, FormLayoutGroup, Input, File } from '@vkontakte/vkui';\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\nconst osName = platform();\r\n//const senderID = '';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      Foto: null,\r\n      FotoFile: null,\r\n      Famili: null,\r\n      Name: null,\r\n      Surname: null,\r\n      BirthDate: null,\r\n      BirthPlace: null,\r\n      CallPlace: null,\r\n      CallYear: null,\r\n      CallLocation: null,\r\n      Ranking: null,\r\n      DeathDate: null,\r\n      History: null,\r\n      OtherSite: null,\r\n      MailFile: null,\r\n      MailFile1: null,\r\n    };\r\n\r\n    //this.publish = this.publish.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange({ target }) {\r\n    this.setState({\r\n      [target.name]: target.value\r\n    });\r\n  }\r\n\r\n  onChangeHandler = event => {\r\n\r\n    this.setState({\r\n      FotoFile: event.target.files[0],\r\n      loaded: 0,\r\n    })\r\n  }\r\n\r\n  onChangeHandler2 = event => {\r\n\r\n    this.setState({\r\n      MailFile1: event.target.files[0],\r\n      loaded: 0,\r\n    })\r\n  }\r\n\r\n  publish() {\r\n\r\n    const data = new FormData()\r\n    data.append('Foto', this.state.FotoFile)\r\n    data.append('MailFile', this.state.MailFile1)\r\n    data.append('Famili', this.state.Famili)\r\n    data.append('Name', this.state.Name)\r\n    data.append('Surname', this.state.Surname)\r\n    data.append('BirthDate', this.state.BirthDate)\r\n    data.append('BirthPlace', this.state.BirthPlace)\r\n    data.append('CallPlace', this.state.CallPlace)\r\n    data.append('CallYear', this.state.CallYear)\r\n    data.append('CallLocation', this.state.CallLocation)\r\n    data.append('Ranking', this.state.Ranking)\r\n    data.append('DeathDate', this.state.DeathDate)\r\n    data.append('History', this.state.History)\r\n    data.append('OtherSite', this.state.OtherSite)\r\n    data.append('id_user', this.props.id_user)\r\n    //data.append('SenderID', senderID)\r\n\r\n    axios.post(\"https://skynets.space\", data, {\r\n      // receive two    parameter endpoint url ,form data\r\n    })\r\n      .then(res => { // then print response status\r\n        console.log(res.data)\r\n      })\r\n  };\r\n\r\n\r\n  render() {\r\n    return <div>\r\n      <FormLayout>\r\n        <FormLayoutGroup>\r\n          <Input\r\n            type=\"file\"\r\n            name=\"Foto\"\r\n            placeholder=\"Доюавьте фотографию\"\r\n            value={this.state.Foto}\r\n            onChange={this.onChangeHandler}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"Famili\"\r\n            placeholder=\"Фамилия\"\r\n            value={this.state.Famili}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"Name\"\r\n            placeholder=\"Имя\"\r\n            value={this.state.Name}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"Surname\"\r\n            placeholder=\"Отчество\"\r\n            value={this.state.Surname}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"BirthDate\"\r\n            placeholder=\"Год / Дата рождения\"\r\n            value={this.state.BirthDate}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"BirthPlace\"\r\n            placeholder=\"Место рождения / Область\"\r\n            value={this.state.BirthPlace}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"CallPlace\"\r\n            placeholder=\"Место призыва / Область\"\r\n            value={this.state.CallPlace}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"CallYear\"\r\n            placeholder=\"Год / Дата призыва\"\r\n            value={this.state.CallYear}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"CallLocation\"\r\n            placeholder=\"Место службы\"\r\n            value={this.state.CallLocation}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"Ranking\"\r\n            placeholder=\"Воинское звание\"\r\n            value={this.state.Ranking}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"DeathDate\"\r\n            placeholder=\"Год / Дата смерти\"\r\n            value={this.state.DeathDate}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"History\"\r\n            placeholder=\"История героя\"\r\n            value={this.state.History}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"OtherSite\"\r\n            placeholder=\"Ссылка на сторонний ресурс\"\r\n            value={this.state.OtherSite}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"file\"\r\n            name=\"MailFile\"\r\n            placeholder=\"Письма героя\"\r\n            value={this.state.MailFile}\r\n            onChange={this.onChangeHandler2}\r\n          />\r\n\r\n          <Button size=\"xl\" level=\"2\" value=\"Send\" onClick={this.publish()}>Опубликовать</Button>\r\n        </FormLayoutGroup>\r\n      </FormLayout>\r\n\r\n    </div>\r\n  }\r\n}\r\n\r\n\r\nconst AddInfo = props => (\r\n\r\n  <Panel id={props.id}>\r\n    <PanelHeader\r\n      left={<PanelHeaderButton onClick={props.go} data-to=\"home\">\r\n        {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n      </PanelHeaderButton>}\r\n    >\r\n      Добавление данных\r\n\t\t</PanelHeader>\r\n    {props.fetchedUser.id}\r\n    <App\r\n      id_user={props.fetchedUser.id}\r\n    />\r\n\r\n    <Div>\r\n      <Button size=\"xl\" level=\"2\" onClick={props.go} data-to=\"home\">\r\n        На главную\r\n\t\t\t\t</Button>\r\n    </Div>\r\n\r\n  </Panel>\r\n\r\n);\r\n\r\nAddInfo.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  go: PropTypes.func.isRequired,\r\n  fetchedUser: PropTypes.shape({\r\n    id: PropTypes.number,\r\n    first_name: PropTypes.string,\r\n    last_name: PropTypes.string,\r\n    city: PropTypes.shape({\r\n      title: PropTypes.string,\r\n    }),\r\n  }),\r\n};\r\n\r\nexport default AddInfo;\r\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { platform, IOS, Input } from '@vkontakte/vkui';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport './Album.css';\nimport noPhoto from '../img/nophoto.jpg';\nimport Icon24Share from '@vkontakte/icons/dist/24/share';\n\nconst osName = platform();\n\n\nfunction Hero(props) {\n\tconst [heroes, setHeroes] = useState([]);\n\tconst [textFio, updateText] = useState(props.last_name);\n\tconst [textCount, setCount] = useState(0);\n\n\tfunction isEmpty(str, zapaska) {\n\t\tif (str == null)\n\t\t\treturn zapaska;\n\n\t\treturn str;\n\t}\n\n\tfunction isEmptyString(str, zapaska) {\n\t\tif (str == '')\n\t\t\treturn zapaska;\n\n\t\treturn str;\n\t}\n\n\tfunction getUser() {\n\t\t//setHeroes(<ScreenSpinner size='large' />);\n\t\tlet url = 'https://skynets.space/hero?search=' + textFio;\n\t\taxios.get(url)\n\t\t\t.then(function (response) {\n\t\t\t\t// handle success\t\n\t\t\t\tconsole.log(response.data);\n\t\t\t\tsetHeroes(response.data.items);\n\t\t\t\tsetCount(response.data.count);\n\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\t// handle error\n\t\t\t\tconsole.log(error);\n\t\t\t})\n\t\t\t.finally(function () {\n\t\t\t\t// always executed\n\t\t\t});\n\t}\n\n\tfunction getInfoRepost(item) {\n\t\treturn item.Lastname + ' ' + item.Firstname + ' ' + item.Patronymic \n\t\t+ '\\n Звание:' + isEmptyString(item.Rank,'не заполнено') + ' ';\n\t}\n\n\tfunction getinfoText(count) {\n\t\treturn \"С вашей фамилией, найдено героев:\" + count\n\t\t+ \"\\r\\n Сайт откуда информация берется: https://foto.pamyat-naroda.ru/\" \n\t\t+ \"\\r\\n Наше приложение: https://vk.com/away.php?to=https%3A%2F%2Fvk.com%2Fapp7384847_154621764&el=snippet\"  ;\n\t}\n\t\n\treturn (\n\t\t<div>\n\t\t\t<Input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"FIO\"\n\t\t\t\tplaceholder=\"ФИО\"\n\t\t\t\tvalue={textFio} onChange={e => updateText(e.target.value)}\n\t\t\t/>\n\t\t\t<Div>\n\t\t\t\t<button class=\"button_herou\" onClick={getUser}>\n\t\t\t\t\tПоиск героев\n\t\t\t\t</button>\n\t\t\t</Div>\n\t\t\t<div class=\"infoLastName\">\n\t\t\t<h1>Найдено героев: {textCount} </h1>\n\t\t\t<button class=\"button_share\" onClick={props.share} data-count={textCount} data-mes={getinfoText(textCount)} data-img='http://skynets.space/name/heroyLastName.jpg'> \n\t\t\tРепостнуть результат</button>\n\t\t\t</div>\n\n\n\t\t\t<div class=\"flex\">\n\t\t\t\t{heroes.map(item => (\n\t\t\t\t\t<div class=\"item\" data-key={item.id}>\n\n\t\t\t\t\t\t<img src={isEmpty(item.MainPhoto, noPhoto)}></img>\n\t\t\t\t\t\t<p>{getInfoRepost(item)}</p>\n\n\t\t\t\t\t\t<button class=\"button_elements\" onClick={getUser}>\n\t\t\t\t\t\t<Icon24Share /> героев\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst Album = props => (\n\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n\t\t\t</PanelHeaderButton>}\n\t\t>\n\t\t\tГаллерея героев\n\t\t</PanelHeader>\n\n\t\t< Hero\n\t\t\tlast_name={props.fetchedUser.last_name}\n\t\t\tshare={props.share}\n\t\t/>\n\t</Panel>\n\n);\n\nAlbum.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tshare: PropTypes.func,\n};\n\nexport default Album;","import React, { useState, useEffect } from 'react';\r\n//import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, Input } from '@vkontakte/vkui';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport axios from 'axios-jsonp-pro';\r\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\n\r\nconst osName = platform();\r\n\r\n\r\nfunction Rank(props) {\r\n    const [Ranks, setHeroes] = useState([]);\r\n\r\n    function isEmpty(str, zapaska) {\r\n        if (str == null)\r\n            return zapaska;\r\n\r\n        return str;\r\n    }\r\n\r\n    function getUser() {\r\n\r\n\r\n        //setHeroes(<ScreenSpinner size='large' />);\r\n        let url = 'https://skynets.space/wall';\r\n        axios.get(url)\r\n            .then(function (response) {\r\n                // handle success\t\r\n                console.log(response);\r\n                setHeroes(response.data);\r\n\r\n            })\r\n            .catch(function (error) {\r\n                // handle error\r\n                console.log(error);\r\n            })\r\n            .finally(function () {\r\n                // always executed\r\n            });\r\n    }\r\n\r\n    function getInfoRepost(item) {\r\n        return item.user_id + \" \" + item.count;\r\n    }\r\n\r\n    function getUserInfo(item) {\r\n\r\n        let url = 'https://api.vk.com/method/users.get?user_ids=' + item.user_id + '&fields=bdate,photo_100&access_token=' + item.acces_token + '&v=5.103';\r\n\r\n        axios.jsonp(url)\r\n            .then(function (response) {\r\n                // handle success\t\r\n                console.log(response)\r\n\r\n            })\r\n            .catch(function (error) {\r\n                // handle error\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            {getUser()}\r\n\r\n            <div class=\"flex\">\r\n                {Ranks.map(item => (\r\n\r\n                    //<div class=\"item\" data-key={item.user_id}>\r\n\r\n                    //     <p>{getInfoRepost(item)}</p>\r\n\r\n                    //   </div>\r\n\r\n                    <Group style={{width:'100%'}} title=\"User Data Fetched with VK Bridge\">\r\n                        <Cell \r\n                            before={item.photo_200 ? <Avatar src={item.photo_200} /> : null}\r\n                            description={'Репостов сделано: ' + item.count + \"\\n\\r Героичность фамилии:\" + item.hero_count}\r\n                        >\r\n                            <p>{`${item.first_name} ${item.last_name}`}</p>\r\n                        </Cell>\r\n                    </Group>\r\n\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Ranking = props => (\r\n\r\n    <Panel id={props.id}>\r\n        <PanelHeader\r\n            left={<PanelHeaderButton onClick={props.go} data-to=\"home\">\r\n                {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n            </PanelHeaderButton>}\r\n        >\r\n            Рейтинг пользователей\r\n\t\t</PanelHeader>\r\n\r\n        < Rank\r\n            last_name={props.fetchedUser.last_name}\r\n            share={props.share}\r\n        />\r\n    </Panel>\r\n\r\n);\r\n\r\nRanking.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    share: PropTypes.func,\r\n};\r\n\r\nexport default Ranking;\r\n","import React, { useState, useEffect } from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport axios from 'axios';\r\n\r\nimport Home from './panels/Home';\r\nimport AddInfo from './panels/AddInfo';\r\nimport Album from './panels/Album';\r\nimport Ranking from './panels/Ranking';\r\n\r\nconst App = () => {\r\n\tconst [activePanel, setActivePanel] = useState('home');\r\n\tconst [fetchedUser, setUser] = useState(null);\r\n\tconst [user_acces_token, setUserToken] = useState(null);\r\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\r\n\r\n\tuseEffect(() => {\r\n\t\tbridge.subscribe(({ detail: { type, data } }) => {\r\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\r\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\r\n\t\t\t}\r\n\t\t});\r\n\t\tasync function fetchData() {\r\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\r\n\t\t\tconst userToken = await bridge.send(\"VKWebAppGetAuthToken\", { \"app_id\": 7384847, \"scope\": \"friends,status,photos\" });\r\n\t\t\tsetUser(user);\r\n\t\t\tsetUserToken(userToken);\r\n\t\t\tsetPopout(null);\r\n\t\t}\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\tconst go = e => {\r\n\t\tsetActivePanel(e.currentTarget.dataset.to);\r\n\t};\r\n\r\n\tconst share = per => {\r\n\r\n\t\tconst count_to_post = per.currentTarget.dataset.count;\r\n\t\t\t\t\r\n\t\t\tconsole.log(user_acces_token.access_token);\r\n\t\t\tbridge.send(\"VKWebAppShowWallPostBox\", { \"message\": per.currentTarget.dataset.mes, \"attachments\": per.currentTarget.dataset.img })\r\n\t\t\t.then(res => {\r\n\r\n\t\t\t\tconst data = new FormData()\r\n\t\t\t\tdata.append('user_id', fetchedUser.id)\r\n\t\t\t\tdata.append('hero_count', count_to_post)\r\n\t\t\t\tdata.append('post_id', res.post_id)\r\n\t\t\t\tdata.append('first_name', fetchedUser.first_name)\r\n\t\t\t\tdata.append('last_name', fetchedUser.last_name)\r\n\t\t\t\tdata.append('photo_200', fetchedUser.photo_200)\r\n\t\t\t\tdata.append('user_acces_token', user_acces_token.access_token)\r\n\t\t\t\taxios.post(\"https://skynets.space/wall\", data, {\r\n\t\t\t\t\t// receive two    parameter endpoint url ,form data\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(res => { // then print response status\r\n\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View activePanel={activePanel} popout={popout}>\r\n\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\r\n\t\t\t<Album id='album' fetchedUser={fetchedUser} share={share} go={go} />\r\n\t\t\t<AddInfo id='AddInfo' fetchedUser={fetchedUser} go={go} />\r\n\t\t\t<Ranking id='Ranking' fetchedUser={fetchedUser} go={go} />\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n\r\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(eruda => {}); //runtime download\n}\n"],"sourceRoot":""}