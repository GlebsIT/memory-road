{"version":3,"sources":["img/persik.png","panels/Home.js","panels/Gallery.js","panels/Album.js","panels/AddInfo.js","App.js","index.js","img/nophoto.jpg"],"names":["module","exports","Home","id","go","fetchedUser","title","before","photo_200","src","description","city","first_name","last_name","size","level","onClick","data-to","platform","osName","Hero","props","useState","heroes","setHeroes","textFio","updateText","textCount","setCount","isEmpty","str","zapaska","getInfoRepost","item","Lastname","Firstname","Patronymic","Rank","type","name","placeholder","value","onChange","e","target","url","axios","get","then","response","console","log","data","items","count","catch","error","finally","class","map","data-key","MainPhoto","noPhoto","share","data-count","data-mes","data-img","Album","left","IOS","App","onChangeHandler","event","setState","FotoFile","files","loaded","onChangeHandler2","MailFile1","state","Foto","Famili","Name","Surname","BirthDate","BirthPlace","CallPlace","CallYear","CallLocation","Ranking","DeathDate","History","OtherSite","MailFile","handleChange","bind","this","FormData","append","id_user","post","res","publish","React","Component","AddInfo","activePanel","setActivePanel","setUser","popout","setPopout","useEffect","a","bridge","send","user","subscribe","detail","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","fetchData","currentTarget","dataset","to","per","access_token","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.eb67d118.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\n\nconst Home = ({ id, go, fetchedUser }) => (\n\t<Panel id={id}>\n\t\t<PanelHeader>Дорога памяти</PanelHeader>\n\t\t{fetchedUser &&\n\t\t<Group title=\"User Data Fetched with VK Bridge\">\n\t\t\t<Cell\n\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t>\n\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t</Cell>\n\t\t</Group>}\n\n\t\t<Group title=\"Navigation Example\">\n\t\t\t\n\t\t\t<Div>\n\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={go} data-to=\"album\">\n\t\t\t\t\t\tПроверить фамилию\n\t\t\t\t</Button>\n\t\t\t</Div>\n\t\t\t\n\t\t\t<Div>\n\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={go} data-to=\"addinfo\">\n\t\t\t\t\tДобавить фотографию героя\n\t\t\t\t</Button>\n\t\t\t</Div>\n\t\t\t\n\t\t\t<Div>\n\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={go} data-to=\"album\">\n\t\t\t\t\t\tРейтинг пользователей\n\t\t\t\t</Button>\n\t\t\t</Div>\n\t\t\t\n\t\t\n\t\t</Group>\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport persik from '../img/persik.png';\nimport './Gallery.css';\n\nconst osName = platform();\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t</PanelHeaderButton>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { platform, IOS, Input } from '@vkontakte/vkui';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport './Album.css';\nimport noPhoto from '../img/nophoto.jpg';\nimport Icon24Share from '@vkontakte/icons/dist/24/share';\n\nconst osName = platform();\n\n\nfunction Hero(props) {\n\tconst [heroes, setHeroes] = useState([]);\n\tconst [textFio, updateText] = useState(props.last_name);\n\tconst [textCount, setCount] = useState(0);\n\n\tfunction isEmpty(str, zapaska) {\n\t\tif (str == null)\n\t\t\treturn zapaska;\n\n\t\treturn str;\n\t}\n\n\tfunction isEmptyString(str, zapaska) {\n\t\tif (str == '')\n\t\t\treturn zapaska;\n\n\t\treturn str;\n\t}\n\n\tfunction getUser() {\n\t\t//setHeroes(<ScreenSpinner size='large' />);\n\t\tlet url = 'https://skynets.space/hero?search=' + textFio;\n\t\taxios.get(url)\n\t\t\t.then(function (response) {\n\t\t\t\t// handle success\t\n\t\t\t\tconsole.log(response.data);\n\t\t\t\tsetHeroes(response.data.items);\n\t\t\t\tsetCount(response.data.count);\n\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\t// handle error\n\t\t\t\tconsole.log(error);\n\t\t\t})\n\t\t\t.finally(function () {\n\t\t\t\t// always executed\n\t\t\t});\n\t}\n\n\tfunction getInfoRepost(item) {\n\t\treturn item.Lastname + ' ' + item.Firstname + ' ' + item.Patronymic \n\t\t+ 'те\\n Звание:' + isEmptyString(item.Rank,'не заполнено') + ' ';\n\t}\n\treturn (\n\t\t<div>\n\t\t\t<Input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"FIO\"\n\t\t\t\tplaceholder=\"ФИО\"\n\t\t\t\tvalue={textFio} onChange={e => updateText(e.target.value)}\n\t\t\t/>\n\t\t\t<Div>\n\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={getUser}>\n\t\t\t\t\tПоиск героев\n\t\t\t</Button>\n\t\t\t</Div>\n\n\t\t\t<h1>Найдено героев: {textCount}</h1>\n\n\n\n\t\t\t<div class=\"flex\">\n\t\t\t\t{heroes.map(item => (\n\t\t\t\t\t<div class=\"item\" data-key={item.id}>\n\n\t\t\t\t\t\t<img src={isEmpty(item.MainPhoto, noPhoto)}></img>\n\t\t\t\t\t\t<p>{getInfoRepost(item)}</p>\n\n\t\t\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={props.share} data-count={textCount} data-mes={getInfoRepost(item)} data-img={isEmpty(item.MainPhoto, noPhoto)}>\n\t\t\t\t\t\t\t<Icon24Share />  \tгероя\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst Album = props => (\n\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n\t\t\t</PanelHeaderButton>}\n\t\t>\n\t\t\tГаллерея героев\n\t\t</PanelHeader>\n\n\t\t< Hero\n\t\t\tlast_name={props.fetchedUser.last_name}\n\t\t\tshare={props.share}\n\t\t/>\n\t</Panel>\n\n);\n\nAlbum.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tshare: PropTypes.func,\n};\n\nexport default Album;","import PropTypes from 'prop-types';\r\nimport { platform, IOS } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport React from \"react\";\r\nimport axios from 'axios';\r\nimport { FormLayout, FormLayoutGroup, Input, File } from '@vkontakte/vkui';\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\nconst osName = platform();\r\n//const senderID = '';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      Foto: null,\r\n      FotoFile: null,\r\n      Famili: null,\r\n      Name: null,\r\n      Surname: null,\r\n      BirthDate: null,\r\n      BirthPlace: null,\r\n      CallPlace: null,\r\n      CallYear: null,\r\n      CallLocation: null,\r\n      Ranking: null,\r\n      DeathDate: null,\r\n      History: null,\r\n      OtherSite: null,\r\n      MailFile: null,\r\n      MailFile1: null,\r\n    };\r\n\r\n    //this.publish = this.publish.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange({ target }) {\r\n    this.setState({\r\n      [target.name]: target.value\r\n    });\r\n  }\r\n\r\n  onChangeHandler = event => {\r\n\r\n    this.setState({\r\n      FotoFile: event.target.files[0],\r\n      loaded: 0,\r\n    })\r\n  }\r\n\r\n  onChangeHandler2 = event => {\r\n\r\n    this.setState({\r\n      MailFile1: event.target.files[0],\r\n      loaded: 0,\r\n    })\r\n  }\r\n\r\n  publish() {\r\n\r\n    const data = new FormData()\r\n    data.append('Foto', this.state.FotoFile)\r\n    data.append('MailFile', this.state.MailFile1)\r\n    data.append('Famili', this.state.Famili)\r\n    data.append('Name', this.state.Name)\r\n    data.append('Surname', this.state.Surname)\r\n    data.append('BirthDate', this.state.BirthDate)\r\n    data.append('BirthPlace', this.state.BirthPlace)\r\n    data.append('CallPlace', this.state.CallPlace)\r\n    data.append('CallYear', this.state.CallYear)\r\n    data.append('CallLocation', this.state.CallLocation)\r\n    data.append('Ranking', this.state.Ranking)\r\n    data.append('DeathDate', this.state.DeathDate)\r\n    data.append('History', this.state.History)\r\n    data.append('OtherSite', this.state.OtherSite)\r\n    data.append('id_user', this.props.id_user)\r\n    //data.append('SenderID', senderID)\r\n\r\n    axios.post(\"https://skynets.space\", data, {\r\n      // receive two    parameter endpoint url ,form data\r\n    })\r\n      .then(res => { // then print response status\r\n        console.log(res.data)\r\n      })\r\n  };\r\n\r\n\r\n  render() {\r\n    return <div>\r\n      <FormLayout>\r\n        <FormLayoutGroup>\r\n          <Input\r\n            type=\"file\"\r\n            name=\"Foto\"\r\n            placeholder=\"Доюавьте фотографию\"\r\n            value={this.state.Foto}\r\n            onChange={this.onChangeHandler}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"Famili\"\r\n            placeholder=\"Фамилия\"\r\n            value={this.state.Famili}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"Name\"\r\n            placeholder=\"Имя\"\r\n            value={this.state.Name}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"Surname\"\r\n            placeholder=\"Отчество\"\r\n            value={this.state.Surname}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"BirthDate\"\r\n            placeholder=\"Год / Дата рождения\"\r\n            value={this.state.BirthDate}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"BirthPlace\"\r\n            placeholder=\"Место рождения / Область\"\r\n            value={this.state.BirthPlace}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"CallPlace\"\r\n            placeholder=\"Место призыва / Область\"\r\n            value={this.state.CallPlace}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"CallYear\"\r\n            placeholder=\"Год / Дата призыва\"\r\n            value={this.state.CallYear}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"CallLocation\"\r\n            placeholder=\"Место службы\"\r\n            value={this.state.CallLocation}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"Ranking\"\r\n            placeholder=\"Воинское звание\"\r\n            value={this.state.Ranking}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"DeathDate\"\r\n            placeholder=\"Год / Дата смерти\"\r\n            value={this.state.DeathDate}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"History\"\r\n            placeholder=\"История героя\"\r\n            value={this.state.History}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"text\"\r\n            name=\"OtherSite\"\r\n            placeholder=\"Ссылка на сторонний ресурс\"\r\n            value={this.state.OtherSite}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            type=\"file\"\r\n            name=\"MailFile\"\r\n            placeholder=\"Письма героя\"\r\n            value={this.state.MailFile}\r\n            onChange={this.onChangeHandler2}\r\n          />\r\n\r\n          <Button size=\"xl\" level=\"2\" value=\"Send\" onClick={this.publish()}>Опубликовать</Button>\r\n        </FormLayoutGroup>\r\n      </FormLayout>\r\n\r\n    </div>\r\n  }\r\n}\r\n\r\n\r\nconst AddInfo = props => (\r\n\r\n  <Panel id={props.id}>\r\n    <PanelHeader\r\n      left={<PanelHeaderButton onClick={props.go} data-to=\"home\">\r\n        {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n      </PanelHeaderButton>}\r\n    >\r\n      Добавление данных\r\n\t\t</PanelHeader>\r\n    {props.fetchedUser.id}\r\n    <App\r\n      id_user={props.fetchedUser.id}\r\n    />\r\n\r\n    <Div>\r\n      <Button size=\"xl\" level=\"2\" onClick={props.go} data-to=\"home\">\r\n        На главную\r\n\t\t\t\t</Button>\r\n    </Div>\r\n\r\n  </Panel>\r\n\r\n);\r\n\r\nAddInfo.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  go: PropTypes.func.isRequired,\r\n  fetchedUser: PropTypes.shape({\r\n    id: PropTypes.number,\r\n    first_name: PropTypes.string,\r\n    last_name: PropTypes.string,\r\n    city: PropTypes.shape({\r\n      title: PropTypes.string,\r\n    }),\r\n  }),\r\n};\r\n\r\nexport default AddInfo;\r\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport axios from 'axios';\nimport Home from './panels/Home';\nimport Persik from './panels/Gallery';\nimport Album from './panels/Album';\nimport AddInfo from './panels/AddInfo';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data } }) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\tconst share = per => {\n\t\t//connect.send(\"VKWebAppphotos.saveWallPhoto\",{});\n\t\t//connect.send(\"VKWebAppShowWallPostBox\", {\"message\": per.currentTarget.dataset.mes, \"attachments\": per.currentTarget.dataset.img});\n\t\t//connect.send(\"\")\n\t\t/*\n\t\tbridge.send(\"VKWebAppShowWallPostBox\", {\"message\": per.currentTarget.dataset.mes, \"attachments\": per.currentTarget.dataset.img})\n\t\t.then(res => { // then print response status\n\t\t\tconsole.log(fetchedUser.id);\t\n\t\t\tconsole.log(res);\n\t\t\tconsole.log(per.currentTarget.dataset.count);\n\t\t}).catch(function (error) {\n\t\t\t// handle error\n\t\t\tconsole.log(error);\n\t\t})\n\t\t*/\n\n\t\tbridge.send(\"VKWebAppGetAuthToken\", { \"app_id\": 7384847, \"scope\": \"friends,status,photos\" })\n\t\t\t.then(res => { // then print response status\n\t\t\t\tconsole.log(res.access_token);\n\t\t\t\t//let url = 'https://skynets.space/geturl\n\t\t\t\tlet url = 'https://api.vk.com/method/photos.getWallUploadServer?access_token=d09c8024af5345e81c0b9af74dc37939d1f84e962635463aab136c481dfba379a1082258bd0447a3c88d7&v=5.103';\n\t\t\t\tconst headers  = {\n\t\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\t\"X-Requested-With\": \"XMLHttpRequest\",\n\t\t\t\t\t\"Access-Control-Allow-Methods\" : \"GET,POST,PUT,DELETE,OPTIONS\",\n\t\t\t\t\t\"Access-Control-Allow-Headers\": \"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\"\n\t\t\t\t  }\n\t\t\t\taxios.get(url,headers)\n\t\t\t\t\t.then(function (response) {\n\t\t\t\t\t\t// handle success\t\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\t// handle error\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t})\n\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t// always executed\n\t\t\t\t\t});\n\t\t\t\tconsole.log(fetchedUser.id);\n\t\t\t})\n\n\n\n\t};\n\n\treturn (\n\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t\t<AddInfo id='addinfo' fetchedUser={fetchedUser} go={go} />\n\t\t\t<Album id='album' fetchedUser={fetchedUser} share={share} go={go} />\n\n\n\t\t</View>\n\t);\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(eruda => {}); //runtime download\n}\n","module.exports = __webpack_public_path__ + \"static/media/nophoto.9dd537f0.jpg\";"],"sourceRoot":""}