(this.webpackJsonpvov=this.webpackJsonpvov||[]).push([[0],{119:function(e,t,a){},215:function(e,t,a){e.exports=a(359)},327:function(e,t,a){},359:function(e,t,a){"use strict";a.r(t);a(216),a(242),a(244),a(245),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(267),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(280),a(281),a(282),a(283),a(284);var n=a(0),l=a.n(n),c=a(79),r=a.n(c),s=a(26),o=a.n(s),i=a(82),h=a.n(i),u=a(131),m=a(23),d=a(136),p=a.n(d),g=a(60),f=a.n(g),E=(a(293),a(47)),b=a.n(E),v=a(33),C=a.n(v),y=a(34),k=a.n(y),_=a(61),F=a.n(_),O=a(35),j=a.n(O),x=(a(119),a(48)),S=a.n(x),D=function(e){var t=e.id,a=e.go;e.fetchedUser;return l.a.createElement(C.a,{id:t},l.a.createElement(k.a,null,"\u0414\u043e\u0440\u043e\u0433\u0430 \u043f\u0430\u043c\u044f\u0442\u0438"),l.a.createElement(F.a,{style:{background:'no-repeat center/100%url("http://skynets.space/name/fon.png"'},title:"Navigation Example"},l.a.createElement(j.a,null,l.a.createElement("button",{class:"button_elements",onClick:a,"data-to":"album"},"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0444\u0430\u043c\u0438\u043b\u0438\u044e")),l.a.createElement(j.a,null,l.a.createElement("button",{class:"button_elements",onClick:a,"data-to":"AddInfo"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e \u0433\u0435\u0440\u043e\u044f")),l.a.createElement(j.a,null,l.a.createElement("button",{class:"button_elements",onClick:a,"data-to":"Ranking"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),l.a.createElement("div",{class:"logo"},l.a.createElement("img",{src:S.a}))))},P=a(132),w=a(133),B=a(134),A=a(62),U=a(137),H=a(138),L=a(5),M=a(51),N=a.n(M),R=a(49),I=a.n(R),K=a(50),V=a.n(K),W=Object(L.e)(),T=function(e){Object(H.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).onChangeHandler=function(e){n.setState({FotoFile:e.target.files[0],loaded:0})},n.onChangeHandler2=function(e){n.setState({MailFile1:e.target.files[0],loaded:0})},n.state={Foto:null,FotoFile:null,Famili:null,Name:null,Surname:null,BirthDate:null,BirthPlace:null,CallPlace:null,CallYear:null,CallLocation:null,Ranking:null,DeathDate:null,History:null,OtherSite:null,MailFile:null,MailFile1:null},n.handleChange=n.handleChange.bind(Object(A.a)(n)),n}return Object(B.a)(a,[{key:"handleChange",value:function(e){var t=e.target;this.setState(Object(P.a)({},t.name,t.value))}},{key:"publish",value:function(){var e=new FormData;e.append("Foto",this.state.FotoFile),e.append("MailFile",this.state.MailFile1),e.append("Famili",this.state.Famili),e.append("Name",this.state.Name),e.append("Surname",this.state.Surname),e.append("BirthDate",this.state.BirthDate),e.append("BirthPlace",this.state.BirthPlace),e.append("CallPlace",this.state.CallPlace),e.append("CallYear",this.state.CallYear),e.append("CallLocation",this.state.CallLocation),e.append("Ranking",this.state.Ranking),e.append("DeathDate",this.state.DeathDate),e.append("History",this.state.History),e.append("OtherSite",this.state.OtherSite),e.append("id_user",this.props.id_user),b.a.post("https://skynets.space",e,{}).then((function(e){console.log(e.data)}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(L.a,null,l.a.createElement(L.b,null,l.a.createElement(L.d,{type:"file",name:"Foto",placeholder:"\u0414\u043e\u044e\u0430\u0432\u044c\u0442\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",value:this.state.Foto,onChange:this.onChangeHandler}),l.a.createElement(L.d,{type:"text",name:"Famili",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",value:this.state.Famili,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"Name",placeholder:"\u0418\u043c\u044f",value:this.state.Name,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"Surname",placeholder:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",value:this.state.Surname,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"BirthDate",placeholder:"\u0413\u043e\u0434 / \u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",value:this.state.BirthDate,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"BirthPlace",placeholder:"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f / \u041e\u0431\u043b\u0430\u0441\u0442\u044c",value:this.state.BirthPlace,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"CallPlace",placeholder:"\u041c\u0435\u0441\u0442\u043e \u043f\u0440\u0438\u0437\u044b\u0432\u0430 / \u041e\u0431\u043b\u0430\u0441\u0442\u044c",value:this.state.CallPlace,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"CallYear",placeholder:"\u0413\u043e\u0434 / \u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0437\u044b\u0432\u0430",value:this.state.CallYear,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"CallLocation",placeholder:"\u041c\u0435\u0441\u0442\u043e \u0441\u043b\u0443\u0436\u0431\u044b",value:this.state.CallLocation,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"Ranking",placeholder:"\u0412\u043e\u0438\u043d\u0441\u043a\u043e\u0435 \u0437\u0432\u0430\u043d\u0438\u0435",value:this.state.Ranking,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"DeathDate",placeholder:"\u0413\u043e\u0434 / \u0414\u0430\u0442\u0430 \u0441\u043c\u0435\u0440\u0442\u0438",value:this.state.DeathDate,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"History",placeholder:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0433\u0435\u0440\u043e\u044f",value:this.state.History,onChange:this.handleChange}),l.a.createElement(L.d,{type:"text",name:"OtherSite",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0439 \u0440\u0435\u0441\u0443\u0440\u0441",value:this.state.OtherSite,onChange:this.handleChange}),l.a.createElement(L.d,{type:"file",name:"MailFile",placeholder:"\u041f\u0438\u0441\u044c\u043c\u0430 \u0433\u0435\u0440\u043e\u044f",value:this.state.MailFile,onChange:this.onChangeHandler2}),l.a.createElement("button",{class:"button_elements",onClick:this.publish()},"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"))))}}]),a}(l.a.Component),Y=function(e){return l.a.createElement(C.a,{id:e.id},l.a.createElement(k.a,{left:l.a.createElement(N.a,{onClick:e.go,"data-to":"home"},W===L.c?l.a.createElement(I.a,null):l.a.createElement(V.a,null))},"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),l.a.createElement(T,{id_user:e.fetchedUser.id}))},G=(a(327),a(83)),J=a.n(G),z=a(135),q=a.n(z),Q=Object(L.e)();function X(e){var t,a=Object(n.useState)([]),c=Object(m.a)(a,2),r=c[0],s=c[1],o=Object(n.useState)(e.last_name),i=Object(m.a)(o,2),h=i[0],u=i[1],d=Object(n.useState)(0),p=Object(m.a)(d,2),g=p[0],f=p[1];function E(e,t){return null==e?t:e}function v(e,t){return""==e?t:e}function C(e){return e.Lastname+" "+e.Firstname+" "+e.Patronymic+"\n \u0417\u0432\u0430\u043d\u0438\u0435:"+v(e.Rank,"\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e")+" \r\n \u0421\u0430\u0439\u0442 \u043e\u0442\u043a\u0443\u0434\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0431\u0435\u0440\u0435\u0442\u0441\u044f: https://foto.pamyat-naroda.ru/\r\n \u041d\u0430\u0448\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435: https://vk.com/away.php?to=https%3A%2F%2Fvk.com%2Fapp7384847_154621764&el=snippet"}return l.a.createElement("div",null,l.a.createElement(L.d,{type:"text",name:"FIO",placeholder:"\u0424\u0418\u041e",value:h,onChange:function(e){return u(e.target.value)}}),l.a.createElement(j.a,null,l.a.createElement("button",{class:"button_herou",onClick:function(){var e="https://skynets.space/hero?search="+h;b.a.get(e).then((function(e){console.log(e.data),s(e.data.items),f(e.data.count)})).catch((function(e){console.log(e)})).finally((function(){}))}},"\u041f\u043e\u0438\u0441\u043a \u0433\u0435\u0440\u043e\u0435\u0432")),l.a.createElement("div",{class:"infoLastName"},l.a.createElement("h1",null,"\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0433\u0435\u0440\u043e\u0435\u0432: ",g," "),l.a.createElement("button",{class:"button_share",onClick:e.share,"data-count":g,"data-mes":(t=g,"\u0421 \u0432\u0430\u0448\u0435\u0439 \u0444\u0430\u043c\u0438\u043b\u0438\u0435\u0439, \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0433\u0435\u0440\u043e\u0435\u0432:"+t+"\r\n \u0421\u0430\u0439\u0442 \u043e\u0442\u043a\u0443\u0434\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0431\u0435\u0440\u0435\u0442\u0441\u044f: https://foto.pamyat-naroda.ru/\r\n \u041d\u0430\u0448\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435: https://vk.com/away.php?to=https%3A%2F%2Fvk.com%2Fapp7384847_154621764&el=snippet"),"data-img":"http://skynets.space/name/heroyLastName.jpg"},"\u0420\u0435\u043f\u043e\u0441\u0442\u043d\u0443\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442")),l.a.createElement("div",{class:"flex"},r.map((function(t){return l.a.createElement("div",{class:"item","data-key":t.id},l.a.createElement("img",{src:E(t.MainPhoto,J.a)}),l.a.createElement("p",null,function(e){return e.Lastname+" "+e.Firstname+" "+e.Patronymic+"\n \u0417\u0432\u0430\u043d\u0438\u0435:"+v(e.Rank,"\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e")+" "}(t)),l.a.createElement("button",{class:"button_elements",onClick:e.share,"data-count":g,"data-mes":C(t),"data-img":E(t.MainPhoto,J.a)},l.a.createElement(q.a,null)," \u0433\u0435\u0440\u043e\u044f"))}))),l.a.createElement("div",{class:"logo"},l.a.createElement("img",{src:S.a})))}var Z=function(e){return l.a.createElement(C.a,{id:e.id},l.a.createElement(k.a,{left:l.a.createElement(N.a,{onClick:e.go,"data-to":"home"},Q===L.c?l.a.createElement(I.a,null):l.a.createElement(V.a,null))}),l.a.createElement(X,{last_name:e.fetchedUser.last_name,share:e.share}))},$=a(84),ee=a.n($),te=a(80),ae=a.n(te),ne=a(81),le=a.n(ne),ce=Object(L.e)();function re(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],r=a[1];return l.a.createElement("div",null,void ee.a.get("https://skynets.space/wall").then((function(e){console.log(e),r(e.data)})).catch((function(e){console.log(e)})).finally((function(){})),l.a.createElement("div",{class:"flex"},c.map((function(e){return l.a.createElement(F.a,{style:{width:"100%"},title:"User Data Fetched with VK Bridge"},l.a.createElement(ae.a,{before:e.photo_200?l.a.createElement(le.a,{src:e.photo_200}):null,description:"\u0420\u0435\u043f\u043e\u0441\u0442\u043e\u0432 \u0441\u0434\u0435\u043b\u0430\u043d\u043e: "+e.count+"\n\r \u0413\u0435\u0440\u043e\u0438\u0447\u043d\u043e\u0441\u0442\u044c \u0444\u0430\u043c\u0438\u043b\u0438\u0438:"+e.hero_count},l.a.createElement("p",null,"".concat(e.first_name," ").concat(e.last_name))))}))),l.a.createElement("div",{class:"logo"},l.a.createElement("img",{src:S.a})))}var se=function(e){return l.a.createElement(C.a,{id:e.id},l.a.createElement(k.a,{left:l.a.createElement(N.a,{onClick:e.go,"data-to":"home"},ce===L.c?l.a.createElement(I.a,null):l.a.createElement(V.a,null))},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),l.a.createElement(re,{last_name:e.fetchedUser.last_name,share:e.share}))},oe=function(){var e=Object(n.useState)("home"),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(m.a)(r,2),i=s[0],d=s[1],g=Object(n.useState)(null),E=Object(m.a)(g,2),v=E[0],C=E[1],y=Object(n.useState)(l.a.createElement(f.a,{size:"large"})),k=Object(m.a)(y,2),_=k[0],F=k[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,o.a.send("VKWebAppGetAuthToken",{app_id:7384847,scope:"friends,status,photos"});case 5:a=e.sent,d(t),C(a),F(null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var l=document.createAttribute("scheme");l.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(l)}})),function(){e.apply(this,arguments)}()}),[]);var O=function(e){c(e.currentTarget.dataset.to)};return l.a.createElement(p.a,{activePanel:a,popout:_},l.a.createElement(D,{id:"home",fetchedUser:i,go:O}),l.a.createElement(Z,{id:"album",fetchedUser:i,share:function(e){var t=e.currentTarget.dataset.count;console.log(v.access_token),o.a.send("VKWebAppShowWallPostBox",{message:e.currentTarget.dataset.mes,attachments:e.currentTarget.dataset.img}).then((function(e){var a=new FormData;a.append("user_id",i.id),a.append("hero_count",t),a.append("post_id",e.post_id),a.append("first_name",i.first_name),a.append("last_name",i.last_name),a.append("photo_200",i.photo_200),a.append("user_acces_token",v.access_token),b.a.post("https://skynets.space/wall",a,{}).then((function(e){console.log(e.data)}))}))},go:O}),l.a.createElement(Y,{id:"AddInfo",fetchedUser:i,go:O}),l.a.createElement(se,{id:"Ranking",fetchedUser:i,go:O}))};o.a.send("VKWebAppInit"),r.a.render(l.a.createElement(oe,null),document.getElementById("root"))},48:function(e,t,a){e.exports=a.p+"static/media/logo.1bc48af2.png"},83:function(e,t,a){e.exports=a.p+"static/media/nophoto.9dd537f0.jpg"}},[[215,1,2]]]);
//# sourceMappingURL=main.0c38de92.chunk.js.map